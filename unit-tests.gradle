
subprojects {
    apply plugin: 'groovy'
   
    dependencies {
        testImplementation group: 'org.testng', name: 'testng', version: '6.8.5'
        testImplementation group: 'junit', name: 'junit', version: '4.12'
        testImplementation group: 'org.mockito', name: 'mockito-core', version: '1.9.5'
        
        testImplementation "org.spockframework:spock-core:1.2-groovy-2.4"
        testImplementation( 'com.athaydes:spock-reports:1.6.1' ) {
            transitive = false // this avoids affecting your version of Groovy/Spock
        }

        testImplementation 'com.greghaskins:spectrum:1.2.0'
        testImplementation("org.assertj:assertj-core:+")
        
        //TODO: only needed for non-interface mocks in spock tests (e.g. vt), replace with interfaces and remove 
        testImplementation 'net.bytebuddy:byte-buddy:1.9.10'

        //TODO: for e2e tests
        testImplementation 'org.codehaus.groovy.modules.http-builder:http-builder:0.7'
    }

    test {
        //useTestNG()
        options {
            //includeGroups 'default'
            /* if you want to run tests for debugging purposes that are not part
            of the continuous integration, put them in the "debug"-group and
            uncomment the following line just in your local working copy
             */
            //includeGroups 'debug'
            //includeGroups 'performance'
            //includeGroups 'integration'
        }
        testLogging.showStandardStreams = true
        reports.html.enabled = true

        systemProperty 'com.athaydes.spockframework.report.outputDir', "$rootProject.buildDir/reports/spock"
        systemProperty 'com.athaydes.spockframework.report.showCodeBlocks', 'true'
        systemProperty 'com.athaydes.spockframework.report.projectName', rootProject.name
        systemProperty 'com.athaydes.spockframework.report.projectVersion', rootProject.version

    }
}