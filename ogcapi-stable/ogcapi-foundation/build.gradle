dependencies {
    //  use an old version, because of the Jackson dependency
    embedded (group: 'com.networknt', name: 'json-schema-validator', version: '1.0.24') {
        exclude module: 'jackson-databind'
        exclude module: 'slf4j-api'
    }
}

//TODO: replace with gradle 6 test fixtures
apply plugin: 'groovy'
sourceSets.main.groovy.srcDirs += file('src/testFixtures/groovy')
dependencies {
    compileOnly "org.codehaus.groovy:groovy:3.0.6"
    compileOnly "org.spockframework:spock-core:2.0-M4-groovy-3.0"
}
jar {
    manifest {
        instructionFirst 'Import-Package', "!groovy.*"
        instructionFirst 'Import-Package', "!spock.lang*"
        instructionFirst 'Import-Package', "!org.codehaus.groovy*"
        instructionFirst 'Import-Package', "!org.spockframework.*"
    }
}