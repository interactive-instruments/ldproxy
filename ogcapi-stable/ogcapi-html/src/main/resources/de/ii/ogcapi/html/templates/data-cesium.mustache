{{#isCesium}}
{{#cesiumData}}

<script type="text/javascript">
globalThis._cesium = {
  assetsPrefix: '{{urlPrefix}}/ogcapi-html/assets/',
  {{#featureExtent}}
  extent: {{.}},
  {{/featureExtent}}
  tileset: {
    {{#fromFeatures}}
    url: 'data:application/json,%7B%22asset%22%3A%7B%22version%22%3A%221.1%22%7D%2C%22geometricError%22%3A5000%2C%22root%22%3A%7B%22boundingVolume%22%3A%7B%22region%22%3A%5B{{{encodedRegion}}}%5D%7D%2C%22refine%22%3A%22REPLACE%22%2C%22geometricError%22%3A0%2C%22content%22%3A%7B%22uri%22%3A%22{{{encodedUrl}}}%22%7D%7D%7D',
    {{/fromFeatures}}
    {{#fromTiles}}
    url: 'data:application/json,{{encodedTileset}}',
    {{#terrainHeightDifference}}
    terrainHeightDifference: {
      difference: {{.}},
      centerLon: {{centerLon}},
      centerLat: {{centerLat}},
      centerHeight: {{centerHeight}},
    }
    {{/terrainHeightDifference}}
    {{/fromTiles}}
    outlineColor: 'DIMGREY',
  },
  {{#ionAccessToken}}
  accessToken: '{{.}}',
  {{/ionAccessToken}}
  {{^ionAccessToken}}
  accessToken: null,
  {{/ionAccessToken}}
  {{^clampToEllipsoid}}
  terrainProvider: {
    {{#customTerrainProviderUri}}
      url: '{{.}}',
    {{/customTerrainProviderUri}}
    {{^customTerrainProviderUri}}
      {{#maptilerApiKey}}
        url: 'https://api.maptiler.com/tiles/terrain-quantized-mesh-v2/?key={{.}}',
        credit: "\u003ca href=\"https://www.maptiler.com/copyright/\" target=\"_blank\"\u003e\u0026copy;MapTiler\u003c/a\u003e \u003ca href=\"https://www.openstreetmap.org/copyright\" target=\"_blank\"\u003e\u0026copy; OpenStreetMap contributors\u003c/a\u003e",
      {{/maptilerApiKey}}
      {{^maptilerApiKey}}
        url: undefined,
      {{/maptilerApiKey}}
      requestVertexNormals: true,
    {{/customTerrainProviderUri}}
  },
  {{/clampToEllipsoid}}
  style: {{#style}}{{{.}}}{{/style}}{{^style}}{}{{/style}},
}
</script>

{{/cesiumData}}
{{/isCesium}}