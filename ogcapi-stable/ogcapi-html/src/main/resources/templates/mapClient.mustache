{{#mapClient}}
<script type="text/javascript">
  globalThis._map = {
      container: 'map',
      interactive: {{interactive}},
    {{#savePosition}}
      savePosition: {{.}},
    {{/savePosition}}
    {{#styleUrl}}
      styleUrl: '{{{.}}}',
      {{#removeZoomLevelConstraints}}
        removeZoomLevelConstraints: {{.}},
      {{/removeZoomLevelConstraints}}
    {{/styleUrl}}
    {{^styleUrl}}
      {{#backgroundUrl}}
        backgroundUrl: '{{{.}}}',
      {{/backgroundUrl}}
      {{#attribution}}
        attribution: '{{{.}}}',
      {{/attribution}}
      //center: [{{centerLon}},{{centerLat}}],
      //zoom: {{zoom}},
    {{/styleUrl}}
    {{#bounds}}
      bounds: [[{{minLng}},{{minLat}}],[{{maxLng}},{{maxLat}}]],
      drawBounds: {{drawBounds}},
    {{/bounds}}
    {{#data}}
      dataUrl: '{{{url}}}',
      dataType: '{{type}}',
      dataLayers: {
        {{#layers.entries}}
        '{{key}}': [{{#value}}'{{.}}',{{/value}}],
        {{/layers.entries}}
      },
    {{/data}}
    {{#defaultStyle}}
      defaultStyle: {
          color: '{{color}}',
          opacity: {{opacity}},
          circleRadius: {{circleRadius}},
          lineWidth: {{lineWidth}},
          fillOpacity: {{fillOpacity}},
          outlineWidth: {{outlineWidth}},
      },
    {{/defaultStyle}}
    {{#popup}}
      popup: '{{.}}',
    {{/popup}}
  }
</script>

  {{#isMapLibre}}
    {{> app-maplibre}}
  {{/isMapLibre}}

{{/mapClient}}

